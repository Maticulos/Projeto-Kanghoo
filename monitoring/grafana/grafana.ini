# ========================================
# CONFIGURAÇÃO DO GRAFANA
# Sistema de Transporte Escolar
# ========================================

[server]
# Porta do servidor
http_port = 3001

# Domínio (para produção, alterar para o domínio real)
domain = localhost

# URL raiz (para produção, alterar para a URL real)
root_url = http://localhost:3001/

# Habilitar gzip
enable_gzip = true

[database]
# Usar SQLite para simplicidade (em produção, considerar PostgreSQL)
type = sqlite3
path = /var/lib/grafana/grafana.db

[security]
# Senha padrão do admin (ALTERAR EM PRODUÇÃO!)
admin_user = admin
admin_password = admin123

# Chave secreta (ALTERAR EM PRODUÇÃO!)
secret_key = SW2YcwTIb9zpOOhoPsMm

# Desabilitar criação de usuários anônimos
allow_sign_up = false

# Desabilitar login anônimo
allow_org_create = false

[users]
# Permitir que usuários se registrem
allow_sign_up = false

# Permitir que usuários criem organizações
allow_org_create = false

# Verificação de email obrigatória
verify_email_enabled = false

[auth]
# Desabilitar login sem senha
disable_login_form = false

# Desabilitar signout redirect
disable_signout_menu = false

[auth.anonymous]
# Habilitar acesso anônimo (apenas para desenvolvimento)
enabled = false

[snapshots]
# Habilitar snapshots externos
external_enabled = true
external_snapshot_url = https://snapshots-origin.raintank.io
external_snapshot_name = Publish to snapshot.raintank.io

[dashboards]
# Versões para manter
versions_to_keep = 20

# Intervalo mínimo de refresh
min_refresh_interval = 5s

# Alerting legado foi removido - usar unified_alerting

[smtp]
# Configurações de email (configurar em produção)
enabled = false
host = localhost:587
user = 
password = 
cert_file = 
key_file = 
skip_verify = false
from_address = admin@grafana.localhost
from_name = Grafana

[log]
# Modo de log
mode = console file

# Nível de log
level = info

# Formato de log
format = text

[log.console]
# Nível de log do console
level = info

# Formato do console
format = console

[log.file]
# Nível de log do arquivo
level = info

# Formato do arquivo
format = text

# Nome do arquivo de log
file_name = /var/log/grafana/grafana.log

# Rotação de logs
log_rotate = true

# Tamanho máximo do arquivo de log
max_size = 100MB

# Número máximo de arquivos de log
max_days = 7

# Número máximo de backups
max_backups = 3

[metrics]
# Habilitar métricas internas
enabled = true

# Intervalo de coleta
interval_seconds = 10

[metrics.graphite]
# Desabilitar Graphite
enabled = false

[tracing.jaeger]
# Desabilitar Jaeger
enabled = false

[external_image_storage]
# Provedor de armazenamento de imagens
provider = local

[external_image_storage.local]
# Caminho para armazenar imagens
path = /var/lib/grafana/png

[rendering]
# URL do serviço de renderização (opcional)
server_url = 
callback_url = 

[panels]
# Habilitar alpha panels
enable_alpha = false

# Desabilitar sanitização
disable_sanitize_html = false

[plugins]
# Permitir carregamento de plugins não assinados (apenas desenvolvimento)
allow_loading_unsigned_plugins = 

# Diretório de plugins
plugin_admin_enabled = true

[enterprise]
# Licença enterprise (se aplicável)
license_path = 

[feature_toggles]
# Habilitar recursos experimentais
enable = 

[unified_alerting]
# Habilitar sistema de alertas unificado
enabled = true

# Intervalo de execução
execute_alerts = true

# Intervalo de avaliação
evaluation_timeout = 30s

# Intervalo máximo
max_attempts = 3

[date_formats]
# Formato de data padrão
default_timezone = browser

# Formato de data completa
full_date = MMM Do, YYYY

# Formato de intervalo
interval_second = HH:mm:ss
interval_minute = HH:mm
interval_hour = MM/DD HH:mm
interval_day = MM/DD
interval_month = YYYY-MM
interval_year = YYYY